(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{387:function(e,t,o){var content=o(424);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(67).default)("7626f7a2",content,!0,{sourceMap:!1})},423:function(e,t,o){"use strict";o(387)},424:function(e,t,o){var n=o(66)(!1);n.push([e.i,".home-cloud-box{width:100%;height:280PX;overflow:hidden;position:relative;background:var(--8fc6a372);background-repeat:no-repeat;background-position:center center;background-size:100% auto}.home-cloud-box #webglDom_home{width:390PX;height:320PX;margin-top:-30PX;position:absolute;left:50%;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%)}",""]),e.exports=n},521:function(e,t,o){"use strict";o.r(t);o(510),o(395);var n=o(338),r=o(422),h=o(339),c=o(340),d=o(523),l=o(512),m=o(1),f={name:"HomeCloud",data:function(){return{scene:null,camera:null,renderer:null,textloader:null,controls:null,width:0,height:0,mao:null,clock:null,group:null,morphTargetInfluences:null,morphTargetDictionary:null,startX:null,startY:null,endX:null,endY:null,back_ground:"url("+this.$store.state.sourcRoot+"/image/index/text-bg.png)"}},watch:{},mounted:function(){this.$nextTick(this.init)},methods:{init:function(){var e=this.$refs.webglDom_home;this.width=e.offsetWidth,this.height=e.offsetHeight,this.scene=new n.zb,this.textloader=new n.Ib,this.camera=new n.bb(this.width/-2,this.width/2,this.height/2,this.height/-2,1,1e3),this.camera.position.set(600,100,100),this.add(this.camera),this.camera.lookAt(this.scene.position),this.group=new n.v,this.clock=new n.k,this.renderer=new n.Pb({antialias:!0}),this.renderer.outputEncoding=n.Qb,this.renderer.toneMapping=n.a,this.renderer.toneMappingExposure=1,this.renderer.shadowMap.enabled=!0,this.renderer.shadowMap.type=n.cb,this.renderer.setClearColor(new n.l("#ffffff"),.1),this.renderer.setPixelRatio(Math.min(window.devicePixelRatio,2)),this.renderer.setSize(this.width,this.height),document.getElementById("webglDom_home").appendChild(this.renderer.domElement);var t=new h.a,o=new n.db(this.renderer);this.scene.environment=o.fromScene(t).texture,document.getElementById("webglDom_home").addEventListener("mousedown",this.onDocumentMouseDown,!1),document.getElementById("webglDom_home").addEventListener("touchstart",this.onDocumentTouchDown,!1),document.getElementById("webglDom_home").addEventListener("touchmove",this.onDocumentTouchMove,!1),document.getElementById("webglDom_home").addEventListener("touchend",this.onDocumentTouchUp,!1);var c=new r.a(this.camera,this.renderer.domElement);c.noRotate=!0,c.noZoom=!0,c.noPan=!0,c.dynamicDampingFactor=.1,this.controls=c,this.loadModel(),this.render()},onDocumentTouchDown:function(e){this.startX=e.touches[0].pageX,this.startY=e.touches[0].pageY},onDocumentTouchMove:function(e){this.endX=e.touches[0].pageX,this.endY=e.touches[0].pageY,this.mainLogic(this.startX,this.startY,this.endX,this.endY)},onDocumentTouchUp:function(e){},onDocumentMouseDown:function(e){},loadModel:function(){var e=this,t=(new d.a).setTranscoderPath("/js/libs/basis/").detectSupport(this.renderer);(new c.a).setCrossOrigin("anonymous").setKTX2Loader(t).setMeshoptDecoder(l.a).load("./caseimg/home_1.glb",(function(t){e.mao=t.scene.children[0],e.mao.position.set(0,0,0),e.mao.scale.set(2.8,2.8,2.8),e.mao.rotation.set(0,1.4,0),e.group.add(e.mao),e.add(e.mao);var head=e.mao.getObjectByName("身体");e.morphTargetInfluences=head.morphTargetInfluences,e.morphTargetDictionary=head.morphTargetDictionary}))},mainLogic:function(e,t,o,n){console.log("startX",e),console.log("startY",t);var r=this.width/2,h=this.height/2,c=e-r,d=t-h,l=o-r,m=n-h,f=c>l,w=c<l,x=d>m,v=d<m,D=r,y=Math.sqrt(Math.abs(e-o)*Math.abs(e-o)+Math.abs(t-n)*Math.abs(t-n)),M=Number(y/D).toFixed(4);t>690||690==t||t<430||430==t||e<10||10==e||e>380||380==e?f&&x&&o>10&&n>430?this.extrusion(M,"youxia-li"):f&&v&&o>10&&n<690?this.extrusion(M,"youshang-li"):w&&x&&o<480&&n>430?this.extrusion(M,"zuoxia-li"):w&&v&&o<480&&n<690?this.extrusion(M,"zuoshang-li"):c==l?(x&&n>430&&this.extrusion(M,"xia-li"),v&&n<690&&this.extrusion(M,"shang-li")):d==m&&(f&&o>10&&this.extrusion(M,"you-li"),w&&o<380&&this.extrusion(M,"zuo-li")):f&&x?this.extrusion(M,"zuoshang"):f&&v?this.extrusion(M,"zuoxia"):w&&x?this.extrusion(M,"youshang"):w&&v?this.extrusion(M,"youxia"):c==l?(x&&this.extrusion(M,"shang"),v&&this.extrusion(M,"xia")):d==m&&(f&&this.extrusion(M,"zuo"),w&&this.extrusion(M,"you"))},extrusion:function(e,t){var o=this.morphTargetInfluences;o[this.morphTargetDictionary[t]]=e,this.morphTargetInfluences=o},addLight:function(){var e=new n.p(16777215,.2);e.position.set(0,1e3,1e3),e.castShadow=!0,this.add(e)},add:function(e){this.scene.add(e)},render:function(){this.controls.update(),this.renderer.render(this.scene,this.camera),requestAnimationFrame(this.render)}}},w=function(){Object(m.b)((function(e,t){return{"8fc6a372":e.back_ground}}))},x=f.setup;f.setup=x?function(e,t){return w(),x(e,t)}:w;var v=f,D=(o(423),o(34)),component=Object(D.a)(v,(function(){var e=this._self._c;return e("div",{staticClass:"home-cloud-box",attrs:{id:"home-cloud-box"}},[e("div",{ref:"webglDom_home",attrs:{id:"webglDom_home"}})])}),[],!1,null,null,null);t.default=component.exports}}]);