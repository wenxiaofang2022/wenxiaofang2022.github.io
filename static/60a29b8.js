(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{323:function(t,e,n){t.exports=n.p+"img/1.e2d79af.png"},350:function(t,e,n){var content=n(379);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(67).default)("0431627f",content,!0,{sourceMap:!1})},378:function(t,e,n){"use strict";n(350)},379:function(t,e,n){var o=n(66)(!1);o.push([t.i,'.webgl-container[data-v-195b47c9]{width:calc(100% - 0.61333rem);height:calc(100vh - 0.73333rem);margin:0 auto;position:relative;padding-bottom:0.82667rem;position:relative}.webgl-box[data-v-195b47c9]{width:calc(100% + 0.61333rem);height:100%;margin-left:-0.30667rem;position:relative;z-index:100}.webgl-box .top_bg[data-v-195b47c9]{width:4.4rem;height:1.64rem;background:url("/image/caselist/top_bg.png") no-repeat;background-size:100% 100%;position:absolute;top:0.26667rem;left:50%;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%);z-index:0}.webgl-box .center_bg[data-v-195b47c9]{width:4.41333rem;height:4.38667rem;background:url("/image/caselist/center_bg.png") no-repeat;background-size:100% auto;position:absolute;z-index:0;left:50%;top:50%;-webkit-transform:translateX(-50%) translateY(-50%);-ms-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%)}.webgl-box .bottom_bg[data-v-195b47c9]{width:4.4rem;height:0.96rem;background:url("/image/caselist/bottom_bg.png") no-repeat;background-size:100% auto;position:absolute;bottom:0.4rem;left:50%;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%);z-index:0}#webglDom[data-v-195b47c9]{width:100%;height:100%;position:relative;z-index:1}.oilbox_arrow[data-v-195b47c9]{width:3.4rem;height:1.30667rem;background:url("/image/caselist/arrow.png") no-repeat center;background-size:100%;position:absolute;bottom:0.2rem;left:50%;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%);z-index:10}.oilbox_nav[data-v-195b47c9]{height:0.50667rem;width:100%;background:url("/image/caselist/option_bg.svg") no-repeat center;background-size:auto 100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;padding-left:0.05333rem}.oilbox_nav .oilbox_item[data-v-195b47c9]{width:1.08rem;height:0.50667rem;font-family:"jcyt 700";font-size:0.17534rem;color:#d0d0d0;text-align:center;line-height:0.50667rem}.oilbox_nav .oilbox_item.active[data-v-195b47c9]{color:#fff;background:url("/image/caselist/checked.svg") no-repeat center;background-size:100% 100%}.oilbox_nav .oilbox_divider[data-v-195b47c9]{width:0.04rem;height:100%;background:url("/image/caselist/divider.svg") no-repeat center;background-size:100% auto;margin-right:0.05333rem}.blank_space[data-v-195b47c9]{width:100%;height:0.82667rem}',""]),t.exports=o},489:function(t,e,n){"use strict";n.r(e);n(54),n(35),n(14),n(36);var o=n(338),r=n(339),c=n(340),l=(n(323),{name:"OilBox",data:function(){return{object:null,scene:null,camera:null,renderer:null,textloader:null,controls:null,group:null,width:0,height:0,center:null,activeIndex:0,onPointerDownPointerX:null,onPointerDownPointerY:null}},watch:{skyType:function(){this.addSkeyBox()}},mounted:function(){this.$nextTick(this.init)},methods:{init:function(){var t=this.$refs.webglDom;this.width=t.offsetWidth,this.height=t.offsetHeight,this.scene=new o.fb,this.textloader=new o.ob,this.group=new o.q,this.camera=new o.W(45,this.width/this.height,.01,1e4),this.camera.position.set(0,0,0),console.log("this.camera",this.camera),this.camera.lookAt(0,0,0),this.scene.add(this.camera);var e=new o.c(700);this.add(e),this.loadModel(),t.addEventListener("mousedown",this.onDocumentMouseDown,!1),document.addEventListener("touchstart",this.onDocumentTouchDown,!1),document.addEventListener("touchend",this.onDocumentTouchUp,!1),document.addEventListener("touchmove",this.onDocumentTouchMove,!1)},onDocumentTouchDown:function(t){this.onPointerDownPointerX=t.touches[0].pageX,this.onPointerDownPointerY=t.touches[0].pageY},onDocumentTouchMove:function(t){this.onPointerDownPointerX=t.touches[0].pageX,this.onPointerDownPointerY=t.touches[0].pageY},gethowIntersects:function(){var t=this;console.log("this.object",this.object.children[0].children),this.object.children[0].children.map((function(e){var n=(new o.p).setFromProjectionMatrix(t.camera.projectionMatrix);e.isMesh&&(n.containsPoint(e.position)||n.intersectsObject(e))&&console.log("node.name",e.name)}))},onDocumentTouchUp:function(t){var e=this,n=this.getIntersects(t,"moveup"),o=[];n.map((function(t){o.push(t.object.name)})),console.log("logo_names",o);["伸爪","天猫live"].map((function(t){o.indexOf(t)>-1&&(e.activeIndex=0)})),["发发奇","飞猪2","001","天猫","HEY_DESIGN","hey"].map((function(t){o.indexOf(t)>-1&&(e.activeIndex=1)})),["城市","飞猪","乐高","盲盒","长江","alibaba"].map((function(t){o.indexOf(t)>-1&&(e.activeIndex=2)})),["节日","金玉满堂"].map((function(t){o.indexOf(t)>-1&&(e.activeIndex=3)}))},onDocumentMouseDown:function(t){var e=this.getIntersects(t);if(console.log("intersects",e),0!==e.length&&"Mesh"===e[0].object.type){var n=e[0].object;console.log("selectObject",n.name)}else console.log("未选中 Mesh!")},changeNav:function(t){t!=this.activeIndex&&(this.activeIndex=t,0==t?this.group.rotation.set(0,2*Math.PI,0):1==t?this.group.rotation.set(0,Math.PI/2,0):2==t?this.group.rotation.set(0,Math.PI,0):3==t&&this.group.rotation.set(0,3*Math.PI/2,0))},getIntersects:function(t,e){e||t.preventDefault();var n=new o.db,r=new o.rb;return e?t.clientX?(r.x=t.clientX/window.innerWidth*2-1,r.y=-t.clientY/window.innerHeight*2+1):(r.x=this.onPointerDownPointerX/window.innerWidth*2-1,r.y=-this.onPointerDownPointerY/window.innerHeight*2+1):(r.x=t.clientX/window.innerWidth*2-1,r.y=-t.clientY/window.innerHeight*2+1),n.setFromCamera(r,this.camera),n.intersectObjects(this.group.children,!0)},rotateAroundWorldAxis:function(object,t,e){var n=new o.J;n.makeRotationAxis(t.normalize(),e),n.multiply(object.matrix),object.matrix=n,object.rotation.setFromRotationMatrix(object.matrix)},addBox:function(){var t=new o.f(300,300,300),e=new o.M({color:16711680}),n=new o.K(t,e);this.add(n)},changeCamera:function(t){var object=t.scene||t.scenes[0],e=(new o.e).setFromObject(object),n=e.getSize(new o.sb(0,0,0)).length(),c=e.getCenter(new o.sb(0,0,0));object.position.x+=object.position.x-c.x,object.position.y+=object.position.y-c.y,object.position.z+=object.position.z-c.z,object.scale.set(.9,.9,.9),object.translateY(.1),this.camera.near=n/100,this.camera.far=100*n,this.camera.position.copy(c),this.camera.position.x+=n/2,this.camera.position.y+=n/5,this.camera.position.z+=n/2,this.camera.lookAt(c),this.camera.up=new o.sb(0,1,0),this.camera.updateProjectionMatrix(),this.object=object,this.group.add(this.object),this.scene.add(this.group),object.traverse((function(t){t.isMesh&&(t.material.depthWrite=!t.material.transparent,t.castShadow=!0,t.material.metalness=.9,t.material.roughness=.6,t.material.reflectivity=1,t.material.emissive=t.material.color,t.material.emissiveMap=t.material.map)})),this.printGraph(object),this.renderer=new o.ub({antialias:!0}),this.renderer.outputEncoding=o.vb,this.textureEncoding=o.vb,this.renderer.setClearColor(new o.j("#ffffff"),0),this.renderer.setPixelRatio(Math.min(window.devicePixelRatio,2)),this.renderer.setSize(this.width,this.height),document.getElementById("webglDom").appendChild(this.renderer.domElement);var l=new r.a(this.camera,this.renderer.domElement);l.enableZoom=!1,l.minPolarAngle=Math.PI/3,l.maxPolarAngle=Math.PI/2,this.controls=l,this.render()},loadModel:function(){var t=this;(new c.a).load("./caseimg/oilbox_07.glb",(function(e){console.log("gltf",e),t.changeCamera(e)}))},printGraph:function(t){var e=this;console.log("node.children.length",t.children.length),console.group(" <"+t.type+"> "+t.name),t.children.forEach((function(t){return e.printGraph(t)})),console.groupEnd()},addLight:function(){},add:function(t){this.scene.add(t)},render:function(){this.renderer.render(this.scene,this.camera),requestAnimationFrame(this.render)}}}),d=(n(378),n(33)),component=Object(d.a)(l,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"webgl-container"},[e("div",{staticClass:"webgl-box"},[e("div",{staticClass:"top_bg"}),t._v(" "),e("div",{staticClass:"center_bg"}),t._v(" "),e("div",{staticClass:"bottom_bg"}),t._v(" "),e("div",{ref:"webglDom",attrs:{id:"webglDom"}}),t._v(" "),e("div",{staticClass:"oilbox_arrow"})]),t._v(" "),e("div",{staticClass:"oilbox_nav"},[e("div",{staticClass:"oilbox_item",class:0==t.activeIndex?"active":"",on:{click:function(e){return t.changeNav(0)}}},[t._v("整合营销")]),t._v(" "),e("div",{staticClass:"oilbox_divider"}),t._v(" "),e("div",{staticClass:"oilbox_item",class:1==t.activeIndex?"active":"",on:{click:function(e){return t.changeNav(1)}}},[t._v("视觉业务")]),t._v(" "),e("div",{staticClass:"oilbox_divider"}),t._v(" "),e("div",{staticClass:"oilbox_item",class:2==t.activeIndex?"active":"",on:{click:function(e){return t.changeNav(2)}}},[t._v("互动业务")]),t._v(" "),e("div",{staticClass:"oilbox_divider"}),t._v(" "),e("div",{staticClass:"oilbox_item",class:3==t.activeIndex?"active":"",on:{click:function(e){return t.changeNav(3)}}},[t._v("自主品牌")])]),t._v(" "),e("div",{staticClass:"blank_space"})])}),[],!1,null,"195b47c9",null);e.default=component.exports}}]);