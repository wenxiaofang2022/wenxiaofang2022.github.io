(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{516:function(e,t,n){var content=n(660);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(67).default)("30cbb212",content,!0,{sourceMap:!1})},659:function(e,t,n){"use strict";n(516)},660:function(e,t,n){var o=n(66)(!1);o.push([e.i,".home-cloud-box{width:100%;height:calc(100vh - 1.33333rem - 3.34667rem - 1.04rem)}.home-cloud-box #webglDom_home{width:100%;height:100%}",""]),e.exports=o},705:function(e,t,n){"use strict";n.r(t);var o=n(338),r=n(397),d=n(339),h=n(340),c=n(428),l=n(423),m={name:"HomeCloud",data:function(){return{scene:null,camera:null,renderer:null,textloader:null,controls:null,width:0,height:0,onPointerDownPointerX:null,onPointerDownPointerY:null,mao:null,clock:null,group:null}},watch:{},mounted:function(){this.$nextTick(this.init)},methods:{init:function(){var e=this.$refs.webglDom_home;this.width=e.offsetWidth,this.height=e.offsetHeight,this.scene=new o.Ab,this.textloader=new o.Jb,this.camera=new o.fb(45,window.innerWidth/window.innerHeight,1,20),this.camera.position.set(-1.8,.8,3),this.add(this.camera),this.camera.lookAt(this.scene.position),this.group=new o.w,this.clock=new o.l;var t=new o.d(700);this.add(t),this.renderer=new o.Qb({antialias:!0}),this.renderer.outputEncoding=o.Rb,this.renderer.toneMapping=o.a,this.renderer.toneMappingExposure=1,this.renderer.shadowMap.enabled=!0,this.renderer.shadowMap.type=o.db,this.renderer.setClearColor(new o.m("#ffffff"),1),this.renderer.setPixelRatio(Math.min(window.devicePixelRatio,2)),this.renderer.setSize(this.width,this.height),document.getElementById("webglDom_home").appendChild(this.renderer.domElement);var n=new d.a,h=new o.eb(this.renderer);this.scene.environment=h.fromScene(n).texture,document.getElementById("webglDom_home").addEventListener("mousedown",this.onDocumentMouseDown,!1),document.getElementById("webglDom_home").addEventListener("touchstart",this.onDocumentTouchDown,!1),document.getElementById("webglDom_home").addEventListener("touchmove",this.onDocumentTouchMove,!1),document.getElementById("webglDom_home").addEventListener("touchend",this.onDocumentTouchUp,!1);var c=new r.a(this.camera,this.renderer.domElement);c.noZoom=!0,c.noPan=!0,c.dynamicDampingFactor=.1,this.controls=c,this.loadModel(),this.render()},onDocumentTouchDown:function(e){this.onPointerDownPointerX=e.touches[0].pageX,this.onPointerDownPointerY=e.touches[0].pageY},onDocumentTouchMove:function(e){this.onPointerDownPointerX=e.touches[0].pageX,this.onPointerDownPointerY=e.touches[0].pageY},onDocumentTouchUp:function(e){},onDocumentMouseDown:function(e){},loadModel:function(){var e=this,t=(new c.a).setTranscoderPath("/js/libs/basis/").detectSupport(this.renderer);(new h.a).setCrossOrigin("anonymous").setKTX2Loader(t).setMeshoptDecoder(l.a).load("./caseimg/facecap.glb",(function(t){e.mao=t.scene.children[0],console.log("that.mao",e.mao),e.mao.position.set(0,0,0),e.group.add(e.mao),e.add(e.mao);var head=e.mao.getObjectByName("mesh_2");console.log("head",head)}))},addLight:function(){var e=1e3,t=.5,n=new o.b(16777215,t);this.add(n);var r=new o.q(16777215,t);r.position.set(0,e,e),this.add(r);var d=new o.q(16777215,t);d.position.set(-1e3,e,e),this.add(d);var h=new o.q(16777215,t);h.position.set(e,e,e),this.add(h);var c=new o.q(16777215,t);c.position.set(0,e,-1e3),this.add(c);var l=new o.q(16777215,t);l.position.set(0,-1e3,-1e3),this.add(l)},add:function(e){this.scene.add(e)},render:function(){this.controls.update(),this.renderer.render(this.scene,this.camera),requestAnimationFrame(this.render)}}},w=(n(659),n(34)),component=Object(w.a)(m,(function(){var e=this._self._c;return e("div",{staticClass:"home-cloud-box",attrs:{id:"home-cloud-box"}},[e("div",{ref:"webglDom_home",attrs:{id:"webglDom_home"}})])}),[],!1,null,null,null);t.default=component.exports}}]);