(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{522:function(e,t,o){var content=o(582);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(53).default)("65d2edff",content,!0,{sourceMap:!1})},580:function(e,t,o){"use strict";var n=o(6),r=o(10),c=o(49),h=o(344),d=o(342),l=o(9),m=RangeError,f=String,w=Math.floor,y=r(d),v=r("".slice),E=r(1..toFixed),x=function(e,t,o){return 0===t?o:t%2==1?x(e,t-1,o*e):x(e*e,t/2,o)},j=function(data,e,t){for(var o=-1,n=t;++o<6;)n+=e*data[o],data[o]=n%1e7,n=w(n/1e7)},D=function(data,e){for(var t=6,o=0;--t>=0;)o+=data[t],data[t]=w(o/e),o=o%e*1e7},P=function(data){for(var e=6,s="";--e>=0;)if(""!==s||0===e||0!==data[e]){var t=f(data[e]);s=""===s?t:s+y("0",7-t.length)+t}return s};n({target:"Number",proto:!0,forced:l((function(){return"0.000"!==E(8e-5,3)||"1"!==E(.9,0)||"1.25"!==E(1.255,2)||"1000000000000000128"!==E(0xde0b6b3a7640080,0)}))||!l((function(){E({})}))},{toFixed:function(e){var t,o,n,r,d=h(this),l=c(e),data=[0,0,0,0,0,0],w="",E="0";if(l<0||l>20)throw m("Incorrect fraction digits");if(d!=d)return"NaN";if(d<=-1e21||d>=1e21)return f(d);if(d<0&&(w="-",d=-d),d>1e-21)if(o=(t=function(e){for(var t=0,o=e;o>=4096;)t+=12,o/=4096;for(;o>=2;)t+=1,o/=2;return t}(d*x(2,69,1))-69)<0?d*x(2,-t,1):d/x(2,t,1),o*=4503599627370496,(t=52-t)>0){for(j(data,0,o),n=l;n>=7;)j(data,1e7,0),n-=7;for(j(data,x(10,n,1),0),n=t-1;n>=23;)D(data,1<<23),n-=23;D(data,1<<n),j(data,1,1),D(data,2),E=P(data)}else j(data,0,o),j(data,1<<-t,0),E=P(data)+y("0",l);return E=l>0?w+((r=E.length)<=l?"0."+y("0",l-r)+E:v(E,0,r-l)+"."+v(E,r-l)):w+E}})},581:function(e,t,o){"use strict";o(522)},582:function(e,t,o){var n=o(52)(!1);n.push([e.i,".home-cloud-box{width:100%;height:280PX;position:relative;z-index:10;background:var(--75970f24);background-repeat:no-repeat;background-position:center center;background-size:110% auto}.home-cloud-box #webglDom_home{width:390PX;height:370PX;margin-top:-55PX;position:absolute;left:50%;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%)}",""]),e.exports=n},599:function(e,t,o){"use strict";o.r(t);o(46),o(70),o(580),o(215);var n=o(2),r=(o(126),o(1)),c=o(0),h=o(29),d=o(3),l=o(79),m=o(4);o(26),o(35),o(225),o(128);function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=Object(m.a)(e);if(t){var r=Object(m.a)(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return Object(l.a)(this,o)}}var w={type:"change"},y={type:"start"},v={type:"end"},E=function(e){Object(d.a)(o,e);var t=f(o);function o(object,e){var r;Object(c.a)(this,o),r=t.call(this);var d=Object(h.a)(r),l=-1,m=0,f=1,E=2,x=3,j=4;r.object=object,r.domElement=e,r.domElement.style.touchAction="none",r.enabled=!0,r.screen={left:0,top:0,width:0,height:0},r.rotateSpeed=1,r.zoomSpeed=1.2,r.panSpeed=.3,r.noRotate=!1,r.noZoom=!1,r.noPan=!1,r.staticMoving=!1,r.dynamicDampingFactor=.2,r.minDistance=0,r.maxDistance=1/0,r.keys=["KeyA","KeyS","KeyD"],r.mouseButtons={LEFT:n.N.ROTATE,MIDDLE:n.N.DOLLY,RIGHT:n.N.PAN},r.target=new n.Pb;var D=1e-6,P=new n.Pb,M=1,X=l,L=l,T=0,k=0,Y=0,I=new n.Pb,O=new n.Ob,z=new n.Ob,C=new n.Pb,R=new n.Ob,S=new n.Ob,F=new n.Ob,N=new n.Ob,_=[],A={};r.target0=r.target.clone(),r.position0=r.object.position.clone(),r.up0=r.object.up.clone(),r.zoom0=r.object.zoom,r.handleResize=function(){var e=d.domElement.getBoundingClientRect(),t=d.domElement.ownerDocument.documentElement;d.screen.left=e.left+window.pageXOffset-t.clientLeft,d.screen.top=e.top+window.pageYOffset-t.clientTop,d.screen.width=e.width,d.screen.height=e.height};var B,H,V,Z,K,U,W,$,Q,G,J=(B=new n.Ob,function(e,t){return B.set((e-d.screen.left)/d.screen.width,(t-d.screen.top)/d.screen.height),B}),ee=function(){var e=new n.Ob;return function(t,o){return e.set((t-.5*d.screen.width-d.screen.left)/(.5*d.screen.width),(d.screen.height+2*(d.screen.top-o))/d.screen.width),e}}();function te(e){!1!==d.enabled&&(0===_.length&&(d.domElement.setPointerCapture(e.pointerId),d.domElement.addEventListener("pointermove",oe),d.domElement.addEventListener("pointerup",ne)),function(e){_.push(e)}(e),"touch"===e.pointerType?function(e){if(1===(he(e),_.length))X=x,z.copy(ee(_[0].pageX,_[0].pageY)),O.copy(z);else{X=j;var t=_[0].pageX-_[1].pageX,o=_[0].pageY-_[1].pageY;k=T=Math.sqrt(t*t+o*o);var n=(_[0].pageX+_[1].pageX)/2,r=(_[0].pageY+_[1].pageY)/2;F.copy(J(n,r)),N.copy(F)}d.dispatchEvent(y)}(e):function(e){if(X===l)switch(e.button){case d.mouseButtons.LEFT:X=m;break;case d.mouseButtons.MIDDLE:X=f;break;case d.mouseButtons.RIGHT:X=E}var t=L!==l?L:X;t!==m||d.noRotate?t!==f||d.noZoom?t!==E||d.noPan||(F.copy(J(e.pageX,e.pageY)),N.copy(F)):(R.copy(J(e.pageX,e.pageY)),S.copy(R)):(z.copy(ee(e.pageX,e.pageY)),O.copy(z));d.dispatchEvent(y)}(e))}function oe(e){!1!==d.enabled&&("touch"===e.pointerType?function(e){if(1===(he(e),_.length))O.copy(z),z.copy(ee(e.pageX,e.pageY));else{var t=function(e){var t=e.pointerId===_[0].pointerId?_[1]:_[0];return A[t.pointerId]}(e),o=e.pageX-t.x,n=e.pageY-t.y;k=Math.sqrt(o*o+n*n);var r=(e.pageX+t.x)/2,c=(e.pageY+t.y)/2;N.copy(J(r,c))}}(e):function(e){var t=L!==l?L:X;t!==m||d.noRotate?t!==f||d.noZoom?t!==E||d.noPan||N.copy(J(e.pageX,e.pageY)):S.copy(J(e.pageX,e.pageY)):(O.copy(z),z.copy(ee(e.pageX,e.pageY)))}(e))}function ne(e){!1!==d.enabled&&("touch"===e.pointerType?function(e){switch(_.length){case 0:X=l;break;case 1:X=x,z.copy(ee(e.pageX,e.pageY)),O.copy(z);break;case 2:X=j,z.copy(ee(e.pageX-O.x,e.pageY-O.y)),O.copy(z)}d.dispatchEvent(v)}(e):(X=l,d.dispatchEvent(v)),ue(e),0===_.length&&(d.domElement.releasePointerCapture(e.pointerId),d.domElement.removeEventListener("pointermove",oe),d.domElement.removeEventListener("pointerup",ne)))}function ie(e){ue(e)}function re(e){!1!==d.enabled&&(window.removeEventListener("keydown",re),L===l&&(e.code!==d.keys[m]||d.noRotate?e.code!==d.keys[f]||d.noZoom?e.code!==d.keys[E]||d.noPan||(L=E):L=f:L=m))}function ae(){!1!==d.enabled&&(L=l,window.addEventListener("keydown",re))}function se(e){if(!1!==d.enabled&&!0!==d.noZoom){switch(e.preventDefault(),e.deltaMode){case 2:R.y-=.025*e.deltaY;break;case 1:R.y-=.01*e.deltaY;break;default:R.y-=25e-5*e.deltaY}d.dispatchEvent(y),d.dispatchEvent(v)}}function ce(e){!1!==d.enabled&&e.preventDefault()}function ue(e){delete A[e.pointerId];for(var i=0;i<_.length;i++)if(_[i].pointerId==e.pointerId)return void _.splice(i,1)}function he(e){var t=A[e.pointerId];void 0===t&&(t=new n.Ob,A[e.pointerId]=t),t.set(e.pageX,e.pageY)}return r.rotateCamera=(H=new n.Pb,V=new n.kb,Z=new n.Pb,K=new n.Pb,U=new n.Pb,W=new n.Pb,function(){W.set(z.x-O.x,z.y-O.y,0);var e=W.length();e?(I.copy(d.object.position).sub(d.target),Z.copy(I).normalize(),K.copy(d.object.up).normalize(),U.crossVectors(K,Z).normalize(),K.setLength(z.y-O.y),U.setLength(z.x-O.x),W.copy(K.add(U)),H.crossVectors(W,I).normalize(),e*=d.rotateSpeed,V.setFromAxisAngle(H,e),I.applyQuaternion(V),d.object.up.applyQuaternion(V),C.copy(H),Y=e):!d.staticMoving&&Y&&(Y*=Math.sqrt(1-d.dynamicDampingFactor),I.copy(d.object.position).sub(d.target),V.setFromAxisAngle(C,Y),I.applyQuaternion(V),d.object.up.applyQuaternion(V)),O.copy(z)}),r.zoomCamera=function(){var e;X===j?(e=T/k,T=k,d.object.isPerspectiveCamera?I.multiplyScalar(e):d.object.isOrthographicCamera?(d.object.zoom/=e,d.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")):(1!==(e=1+(S.y-R.y)*d.zoomSpeed)&&e>0&&(d.object.isPerspectiveCamera?I.multiplyScalar(e):d.object.isOrthographicCamera?(d.object.zoom/=e,d.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")),d.staticMoving?R.copy(S):R.y+=(S.y-R.y)*this.dynamicDampingFactor)},r.panCamera=($=new n.Ob,Q=new n.Pb,G=new n.Pb,function(){if($.copy(N).sub(F),$.lengthSq()){if(d.object.isOrthographicCamera){var e=(d.object.right-d.object.left)/d.object.zoom/d.domElement.clientWidth,t=(d.object.top-d.object.bottom)/d.object.zoom/d.domElement.clientWidth;$.x*=e,$.y*=t}$.multiplyScalar(I.length()*d.panSpeed),G.copy(I).cross(d.object.up).setLength($.x),G.add(Q.copy(d.object.up).setLength($.y)),d.object.position.add(G),d.target.add(G),d.staticMoving?F.copy(N):F.add($.subVectors(N,F).multiplyScalar(d.dynamicDampingFactor))}}),r.checkDistances=function(){d.noZoom&&d.noPan||(I.lengthSq()>d.maxDistance*d.maxDistance&&(d.object.position.addVectors(d.target,I.setLength(d.maxDistance)),R.copy(S)),I.lengthSq()<d.minDistance*d.minDistance&&(d.object.position.addVectors(d.target,I.setLength(d.minDistance)),R.copy(S)))},r.update=function(){I.subVectors(d.object.position,d.target),d.noRotate||d.rotateCamera(),d.noZoom||d.zoomCamera(),d.noPan||d.panCamera(),d.object.position.addVectors(d.target,I),d.object.isPerspectiveCamera?(d.checkDistances(),d.object.lookAt(d.target),P.distanceToSquared(d.object.position)>D&&(d.dispatchEvent(w),P.copy(d.object.position))):d.object.isOrthographicCamera?(d.object.lookAt(d.target),(P.distanceToSquared(d.object.position)>D||M!==d.object.zoom)&&(d.dispatchEvent(w),P.copy(d.object.position),M=d.object.zoom)):console.warn("THREE.TrackballControls: Unsupported camera type")},r.reset=function(){X=l,L=l,d.target.copy(d.target0),d.object.position.copy(d.position0),d.object.up.copy(d.up0),d.object.zoom=d.zoom0,d.object.updateProjectionMatrix(),I.subVectors(d.object.position,d.target),d.object.lookAt(d.target),d.dispatchEvent(w),P.copy(d.object.position),M=d.object.zoom},r.dispose=function(){d.domElement.removeEventListener("contextmenu",ce),d.domElement.removeEventListener("pointerdown",te),d.domElement.removeEventListener("pointercancel",ie),d.domElement.removeEventListener("wheel",se),d.domElement.removeEventListener("pointermove",oe),d.domElement.removeEventListener("pointerup",ne),window.removeEventListener("keydown",re),window.removeEventListener("keyup",ae)},r.domElement.addEventListener("contextmenu",ce),r.domElement.addEventListener("pointerdown",te),r.domElement.addEventListener("pointercancel",ie),r.domElement.addEventListener("wheel",se,{passive:!1}),window.addEventListener("keydown",re),window.addEventListener("keyup",ae),r.handleResize(),r.update(),r}return Object(r.a)(o)}(n.r),x=o(189),j=o(188),D=o(487),P=o(483),M=o(8),X={name:"HomeCloud",data:function(){return{scene:null,camera:null,renderer:null,textloader:null,controls:null,width:0,height:0,mao:null,clock:null,group:null,morphTargetInfluences:null,morphTargetDictionary:null,onPointerDownPointerX:null,onPointerDownPointerY:null,startX:null,startY:null,endX:null,endY:null,outsideModel:!0,timer:null,direction:null,strength:0,back_ground:"url("+this.$store.state.sourcRoot+"/image/index/text-bg.png)"}},watch:{},mounted:function(){this.$nextTick(this.init)},methods:{init:function(){var e=this.$refs.webglDom_home;this.width=e.offsetWidth,this.height=e.offsetHeight,this.scene=new n.Ab,this.textloader=new n.Kb,this.camera=new n.bb(this.width/-2,this.width/2,this.height/2,this.height/-2,1,1e3),this.camera.position.set(600,100,100),this.add(this.camera),this.camera.lookAt(this.scene.position),this.group=new n.v,this.clock=new n.k,this.renderer=new n.Rb({antialias:!0}),this.renderer.outputEncoding=n.Sb,this.renderer.toneMapping=n.a,this.renderer.toneMappingExposure=1,this.renderer.shadowMap.enabled=!0,this.renderer.shadowMap.type=n.cb,this.renderer.setClearColor(new n.l("#ffffff"),.1),this.renderer.setPixelRatio(Math.min(window.devicePixelRatio,2)),this.renderer.setSize(this.width,this.height),document.getElementById("webglDom_home").appendChild(this.renderer.domElement);var t=new x.a,o=new n.db(this.renderer);this.scene.environment=o.fromScene(t).texture,document.getElementById("webglDom_home").addEventListener("mousedown",this.onDocumentMouseDown,!1),document.getElementById("webglDom_home").addEventListener("touchstart",this.onDocumentTouchDown,!1),document.getElementById("webglDom_home").addEventListener("touchmove",this.onDocumentTouchMove,!1),document.getElementById("webglDom_home").addEventListener("touchend",this.onDocumentTouchUp,!1);var r=new E(this.camera,this.renderer.domElement);r.noRotate=!0,r.noZoom=!0,r.noPan=!0,r.dynamicDampingFactor=.1,this.controls=r,this.loadModel(),this.render()},onDocumentTouchDown:function(e){this.startX=e.touches[0].pageX,this.startY=e.touches[0].pageY,this.onPointerDownPointerX=e.touches[0].pageX,this.onPointerDownPointerY=e.touches[0].pageY;var t=this.getIntersects(e);console.log("intersects",t),t&&t.length>0&&"身体"==t[0].object.name?this.outsideModel=!1:this.outsideModel=!0},getIntersects:function(e){e.preventDefault();var t=new n.xb,o=new n.Ob;return e.clientX?(o.x=e.clientX/window.innerWidth*2-1,o.y=-e.clientY/window.innerHeight*2+1):(o.x=this.onPointerDownPointerX/window.innerWidth*2-1,o.y=-this.onPointerDownPointerY/window.innerHeight*2+1),t.setFromCamera(o,this.camera),t.intersectObjects(this.mao.children,!0)},onDocumentTouchMove:function(e){this.onPointerDownPointerX=e.touches[0].pageX,this.onPointerDownPointerY=e.touches[0].pageY,this.endX=e.touches[0].pageX,this.endY=e.touches[0].pageY,this.mainLogic(this.startX,this.startY,this.endX,this.endY)},onDocumentTouchUp:function(e){var t=this,o=this.morphTargetInfluences,n=this.morphTargetDictionary[this.direction],r=this.strength;o[n]=r,this.morphTargetInfluences=o;var c=r/10;console.log("this.strength",this.strength),this.timer=setInterval((function(){r=(r=Number(r-c).toFixed(2))<0?r=0:r,console.log("strength",r),o[n]=r,t.morphTargetInfluences=o,0==r&&clearInterval(t.timer)}),10)},onDocumentMouseDown:function(e){},loadModel:function(){var e=this,t=(new D.a).setTranscoderPath("/js/libs/basis/").detectSupport(this.renderer),o=(new j.a).setCrossOrigin("anonymous").setKTX2Loader(t).setMeshoptDecoder(P.a),n=this.$store.state.sourcRoot+"/caseimg/home_1.glb";o.load(n,(function(t){e.mao=t.scene.children[0],e.mao.position.set(0,0,0),e.mao.scale.set(2.8,2.8,2.8),e.mao.rotation.set(0,1.4,0),e.group.add(e.mao),e.add(e.group);var head=e.mao.getObjectByName("身体");e.morphTargetInfluences=head.morphTargetInfluences,e.morphTargetDictionary=head.morphTargetDictionary}),(function(t){var o=Math.floor(t.loaded/t.total*100);e.$emit("getrate",o)}))},mainLogic:function(e,t,o,n){var r=this.width/2,c=this.height/2,h=e-r,d=t-c,l=o-r,m=n-c,f=h>l,w=h<l,y=d>m,v=d<m,E=r,x=Math.sqrt(Math.abs(e-o)*Math.abs(e-o)+Math.abs(t-n)*Math.abs(t-n)),j=Number(x/E).toFixed(2);Number(Math.abs(t-n)/E).toFixed(2),Number(Math.abs(e-o)/E).toFixed(2);console.log("strength",j),this.outsideModel?f&&y?this.extrusion(j,"youxia-li"):f&&v?this.extrusion(j,"youshang-li"):w&&y?this.extrusion(j,"zuoxia-li"):w&&v?this.extrusion(j,"zuoshang-li"):h==l?(j=Number(Math.abs(d-m)/E).toFixed(2),y&&this.extrusion(j,"xia-li"),v&&this.extrusion(j,"shang-li")):d==m&&(j=Number(Math.abs(h-l)/E).toFixed(2),f&&this.extrusion(j,"you-li"),w&&this.extrusion(j,"zuo-li")):this.outsideModel||(f&&y?this.extrusion(j,"zuoshang"):f&&v?this.extrusion(j,"zuoxia"):w&&y?this.extrusion(j,"youshang"):w&&v?this.extrusion(j,"youxia"):h==l?(j=Number(Math.abs(d-m)/E).toFixed(2),y&&this.extrusion(j,"shang"),v&&this.extrusion(j,"xia")):d==m&&(j=Number(Math.abs(h-l)/E).toFixed(2),f&&this.extrusion(j,"zuo"),w&&this.extrusion(j,"you")))},extrusion:function(e,t){e>1?e=1:e<0&&(e=0),console.log("strength",e);var o=this.morphTargetInfluences;o[this.morphTargetDictionary[t]]=e,this.morphTargetInfluences=o,this.direction=t,this.strength=e},addLight:function(){var e=new n.p(16777215,.2);e.position.set(0,1e3,1e3),e.castShadow=!0,this.add(e)},add:function(e){this.scene.add(e)},render:function(){this.controls.update(),this.renderer.render(this.scene,this.camera),requestAnimationFrame(this.render)}}},L=function(){Object(M.b)((function(e,t){return{"75970f24":e.back_ground}}))},T=X.setup;X.setup=T?function(e,t){return L(),T(e,t)}:L;var k=X,Y=(o(581),o(30)),component=Object(Y.a)(k,(function(){var e=this._self._c;return e("div",{staticClass:"home-cloud-box",attrs:{id:"home-cloud-box"}},[e("div",{ref:"webglDom_home",attrs:{id:"webglDom_home"}})])}),[],!1,null,null,null);t.default=component.exports}}]);