(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{387:function(e,t,o){var content=o(425);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(67).default)("e349b882",content,!0,{sourceMap:!1})},424:function(e,t,o){"use strict";o(387)},425:function(e,t,o){var n=o(66)(!1);n.push([e.i,".home-cloud-box{width:100%;height:calc(100vh - 1.33333rem - 3.34667rem - 1.04rem)}.home-cloud-box #webglDom_home{width:100%;height:100%}",""]),e.exports=n},524:function(e,t,o){"use strict";o.r(t);o(512),o(395);var n=o(338),r=o(397),h=o(339),d=o(340),c=o(428),l=o(423),m=(o(513),{name:"HomeCloud",data:function(){return{scene:null,camera:null,renderer:null,textloader:null,controls:null,width:0,height:0,mao:null,clock:null,group:null,morphTargetInfluences:null,morphTargetDictionary:null,startX:null,startY:null,endX:null,endY:null}},watch:{},mounted:function(){this.$nextTick(this.init)},methods:{init:function(){var e=this.$refs.webglDom_home;this.width=e.offsetWidth,this.height=e.offsetHeight,this.scene=new n.Ab,this.textloader=new n.Jb,this.camera=new n.cb(this.width/-2,this.width/2,this.height/2,this.height/-2,1,1e3),this.camera.position.set(600,100,100),this.add(this.camera),this.camera.lookAt(this.scene.position),this.group=new n.w,this.clock=new n.l,this.renderer=new n.Qb({antialias:!0}),this.renderer.outputEncoding=n.Rb,this.renderer.toneMapping=n.a,this.renderer.toneMappingExposure=1,this.renderer.shadowMap.enabled=!0,this.renderer.shadowMap.type=n.db,this.renderer.setClearColor(new n.m("#ffffff"),1),this.renderer.setPixelRatio(Math.min(window.devicePixelRatio,2)),this.renderer.setSize(this.width,this.height),document.getElementById("webglDom_home").appendChild(this.renderer.domElement);var t=new h.a,o=new n.eb(this.renderer);this.scene.environment=o.fromScene(t).texture,document.getElementById("webglDom_home").addEventListener("mousedown",this.onDocumentMouseDown,!1),document.getElementById("webglDom_home").addEventListener("touchstart",this.onDocumentTouchDown,!1),document.getElementById("webglDom_home").addEventListener("touchmove",this.onDocumentTouchMove,!1),document.getElementById("webglDom_home").addEventListener("touchend",this.onDocumentTouchUp,!1);var d=new r.a(this.camera,this.renderer.domElement);d.noRotate=!0,d.noZoom=!0,d.noPan=!0,d.dynamicDampingFactor=.1,this.controls=d,this.loadModel(),this.render()},onDocumentTouchDown:function(e){this.startX=e.touches[0].pageX,this.startY=e.touches[0].pageY},onDocumentTouchMove:function(e){this.endX=e.touches[0].pageX,this.endY=e.touches[0].pageY,this.mainLogic(this.startX,this.startY,this.endX,this.endY)},onDocumentTouchUp:function(e){},onDocumentMouseDown:function(e){},loadModel:function(){var e=this,t=(new c.a).setTranscoderPath("/js/libs/basis/").detectSupport(this.renderer);(new d.a).setCrossOrigin("anonymous").setKTX2Loader(t).setMeshoptDecoder(l.a).load("./caseimg/home_1.glb",(function(t){console.log("gltf",t),e.mao=t.scene.children[0],console.log("that.mao",e.mao),e.mao.position.set(0,0,0),e.mao.scale.set(2.8,2.8,2.8),e.mao.rotation.set(0,1.4,0),e.group.add(e.mao),e.add(e.mao);var head=e.mao.getObjectByName("身体");e.morphTargetInfluences=head.morphTargetInfluences,e.morphTargetDictionary=head.morphTargetDictionary}))},mainLogic:function(e,t,o,n){var r=this.width/2,h=this.height/2,d=e-r,c=t-h,l=o-r,m=n-h,w=d>l,f=d<l,x=c>m,v=c<m,D=r,y=Math.sqrt(Math.abs(e-o)*Math.abs(e-o)+Math.abs(t-n)*Math.abs(t-n)),M=Number(y/D).toFixed(4);t>690||690==t||t<430||430==t||e<10||10==e||e>380||380==e?w&&x&&o>10&&n>430?this.extrusion(M,"youxia-li"):w&&v&&o>10&&n<690?this.extrusion(M,"youshang-li"):f&&x&&o<480&&n>430?this.extrusion(M,"zuoxia-li"):f&&v&&o<480&&n<690?this.extrusion(M,"zuoshang-li"):d==l?(x&&n>430&&this.extrusion(M,"xia-li"),v&&n<690&&this.extrusion(M,"shang-li")):c==m&&(w&&o>10&&this.extrusion(M,"you-li"),f&&o<380&&this.extrusion(M,"zuo-li")):w&&x?this.extrusion(M,"zuoshang"):w&&v?this.extrusion(M,"zuoxia"):f&&x?this.extrusion(M,"youshang"):f&&v?this.extrusion(M,"youxia"):d==l?(x&&this.extrusion(M,"shang"),v&&this.extrusion(M,"xia")):c==m&&(w&&this.extrusion(M,"zuo"),f&&this.extrusion(M,"you"))},extrusion:function(e,t){var o=this.morphTargetInfluences,n=this.morphTargetDictionary;console.log("morphTargetDictionary",n),o[n[t]]=e,this.morphTargetInfluences=o},addLight:function(){var e=1e3,t=.5,o=new n.b(16777215,t);this.add(o);var r=new n.q(16777215,t);r.position.set(0,e,e),this.add(r);var h=new n.q(16777215,t);h.position.set(-1e3,e,e),this.add(h);var d=new n.q(16777215,t);d.position.set(e,e,e),this.add(d);var c=new n.q(16777215,t);c.position.set(0,e,-1e3),this.add(c);var l=new n.q(16777215,t);l.position.set(0,-1e3,-1e3),this.add(l)},add:function(e){this.scene.add(e)},render:function(){this.controls.update(),this.renderer.render(this.scene,this.camera),requestAnimationFrame(this.render)}}}),w=(o(424),o(34)),component=Object(w.a)(m,(function(){var e=this._self._c;return e("div",{staticClass:"home-cloud-box",attrs:{id:"home-cloud-box"}},[e("div",{ref:"webglDom_home",attrs:{id:"webglDom_home"}})])}),[],!1,null,null,null);t.default=component.exports}}]);