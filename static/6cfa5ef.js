(window.webpackJsonp=window.webpackJsonp||[]).push([[63,11,13,20,22,25,26,27],{475:function(e,t,n){"use strict";n.r(t);t.default="\n\nuniform sampler2D uMap;\n\nvarying vec2 vUv;\nvarying float vDiff;\n\nvoid main() {\n\tgl_FragColor = texture2D(uMap, vUv);\n}"},476:function(e,t,n){"use strict";n.r(t);t.default="\n\nuniform float uTime;\nuniform vec3 uDragStart;\nuniform vec3 uDragTarget;\nuniform float uReleaseDecay;\nuniform float uReleaseFrequency;\nuniform float uDragReleaseTime;\nuniform float uDragRelease;\n\nvarying vec2 vUv;\nvarying float vDiff;\n\n\nvoid main() {\n    float startToTarget = distance(uDragTarget, uDragStart);\n    float distanceToStart = distance(position, uDragStart);\n    float influence = distanceToStart / (0.2 + 0.4 * startToTarget);\n    float distortion = exp(pow(clamp(influence, 0.,1.), 3.2) * -6.);\n\n    if (uDragRelease > 0.) {\n        float timeSinceRelease = uTime - uDragReleaseTime;\n        distortion *= exp(-uReleaseDecay * timeSinceRelease * max(distortion, 1.) / ( 6.));\n        distortion *= cos(timeSinceRelease * uReleaseFrequency / ( 2.28));\n    }\n\n    vec3 stretch = (uDragTarget - uDragStart) * distortion;\n    stretch += (uDragStart - position) * distortion * 0.72;\n\n    vec3 pos = position;\n    pos += stretch;\n    pos.z += abs(distortion) * 0.2;\n\n    vec4 viewPosition = modelViewMatrix * vec4(pos, 1.);\n\n    gl_Position = projectionMatrix * viewPosition;\n\n    vUv = uv;\n    vDiff = length(pos - position) * uDragRelease;\n}"},477:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return h}));var r=n(0),o=n(1),l=n(2),d=n(188),c=n(475),m=n(476),h=function(){function e(){Object(r.a)(this,e),this.gltfLoader=new d.a,this.textureLoader=new l.Kb,this.backgroundColor="linear-gradient(0deg, rgb(68 99 49) 0%, rgb(163 174 255) 100%)",this.setMaterial(),this.setShape()}return Object(o.a)(e,[{key:"setMaterial",value:function(){var e=this.$store.state.sourcRoot+"/caseimg/snorlax_texture.png",map=this.textureLoader.load(e);map.flipY=!1,this.material=new l.Bb({vertexShader:m.default,fragmentShader:c.default,uniforms:{uTime:{value:0},uDragStart:{value:new l.Pb},uDragTarget:{value:new l.Pb},uDragReleaseTime:{value:0},uDragRelease:{value:1},uReleaseDecay:{value:10},uReleaseFrequency:{value:55},uMap:{value:map}},transparent:!0})}},{key:"setShape",value:function(){var e=this;this.gltfLoader.load("assets/snorlax_210.glb",(function(t){console.log("gltf",t),e.shape=t.scene.children[0],e.shape.material=e.material}))}},{key:"onMouseDown",value:function(e){this.material.uniforms.uDragStart.value.copy(e),this.material.uniforms.uDragTarget.value.copy(e),this.material.uniforms.uDragRelease.value=!1}},{key:"onMouseMove",value:function(e){this.material.uniforms.uDragTarget.value.copy(e)}},{key:"onMouseUp",value:function(time){this.material.uniforms.uDragReleaseTime.value=time,this.material.uniforms.uDragRelease.value=!0}},{key:"update",value:function(time){this.material.uniforms.uTime.value=time}},{key:"setConfig",value:function(e){e.addInput(this.material.uniforms.uReleaseDecay,"value",{min:.5,max:30,label:"releaseDecay"}),e.addInput(this.material.uniforms.uReleaseFrequency,"value",{min:1,max:100,label:"releaseFrequency"})}}]),e}()},483:function(e,t,n){var content=n(500);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(53).default)("994770ca",content,!0,{sourceMap:!1})},484:function(e,t,n){var content=n(502);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(53).default)("1aec4371",content,!0,{sourceMap:!1})},485:function(e,t,n){var content=n(504);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(53).default)("4eb1106c",content,!0,{sourceMap:!1})},486:function(e,t,n){var content=n(506);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(53).default)("e9b20a1a",content,!0,{sourceMap:!1})},499:function(e,t,n){"use strict";n(483)},500:function(e,t,n){var r=n(52)(!1);r.push([e.i,'.index-top-text{padding-top:70PX;text-align:center;color:#000}.index-top-text .art-text{width:4.52rem;height:1.28rem;background:var(--6f3b7c54);background-repeat:no-repeat;background-size:100%;margin:0 auto;position:relative}.index-top-text .art-text .icon-star{position:absolute;width:0.37333rem;height:0.37333rem;bottom:-0.33333rem;background:var(--78340e5d);background-repeat:no-repeat;background-size:100%}.index-top-text .art-text .icon-star.star-left{left:-0.33333rem}.index-top-text .art-text .icon-star.star-right{right:-0.33333rem}.index-top-text .website-link{font-weight:900;font-size:0.12rem;line-height:0.24rem;margin-top:-0.12rem}.index-top-text .marquee-box{width:3.26667rem;height:0.53333rem;line-height:0.53333rem;background:#1c1c1c;-webkit-box-shadow:inset -0.04rem -0.04rem 0.09333rem #000,inset 0.06667rem 0.06667rem 0.10667rem #000;box-shadow:inset -0.04rem -0.04rem 0.09333rem #000,inset 0.06667rem 0.06667rem 0.10667rem #000;border-radius:0.06667rem;color:#ff5c00;text-shadow:0px 0px 1px #ff5c00;font-family:"xszt Regular";font-size:0.29333rem;margin:0 auto;overflow:hidden}.index-top-text .marquee-inner-wrapper{white-space:nowrap;position:relative}.index-top-text .marquee-inner-wrapper span{position:absolute;top:0;left:100%;height:100%}.index-top-text .first-marquee{-webkit-animation:20s first-marquee linear infinite normal;animation:20s first-marquee linear infinite normal}@-webkit-keyframes first-marquee{0%{-webkit-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0)}100%{-webkit-transform:translate3d(-200%, 0, 0);transform:translate3d(-200%, 0, 0);display:none}}@keyframes first-marquee{0%{-webkit-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0)}100%{-webkit-transform:translate3d(-200%, 0, 0);transform:translate3d(-200%, 0, 0);display:none}}.index-top-text .second-marquee{-webkit-animation:20s first-marquee linear 10.1s infinite normal;animation:20s first-marquee linear 10.1s infinite normal}@-webkit-keyframes second-marquee{0%{-webkit-transform:translate3d(0%, 0, 0);transform:translate3d(0%, 0, 0)}100%{-webkit-transform:translate3d(-200%, 0, 0);transform:translate3d(-200%, 0, 0);display:none}}@keyframes second-marquee{0%{-webkit-transform:translate3d(0%, 0, 0);transform:translate3d(0%, 0, 0)}100%{-webkit-transform:translate3d(-200%, 0, 0);transform:translate3d(-200%, 0, 0);display:none}}.index-top-text .chinese-desc{font-family:"jcyt 700";font-size:0.28rem;line-height:0.32rem;margin-top:0.16rem}.index-top-text .english-desc{font-family:"syht Heavy";font-size:0.22667rem;line-height:0.29333rem}',""]),e.exports=r},501:function(e,t,n){"use strict";n(484)},502:function(e,t,n){var r=n(52)(!1);r.push([e.i,".home-cloud-box{width:100%;height:280PX;position:relative;z-index:10;background:var(--62e4c504);background-repeat:no-repeat;background-position:center center;background-size:110% auto}.home-cloud-box #webglDom_home{width:100%;height:1000PX;margin-top:-356PX;position:fixed;z-index:1000;z-index:10;left:50%;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%)}",""]),e.exports=r},503:function(e,t,n){"use strict";n(485)},504:function(e,t,n){var r=n(52)(!1);r.push([e.i,".index-bottom-text img{width:4.01333rem;display:block;margin:0 auto}",""]),e.exports=r},505:function(e,t,n){"use strict";n(486)},506:function(e,t,n){var r=n(52)(!1);r.push([e.i,".index-bottom-bg{position:absolute;bottom:0px;left:0px;width:100%}.index-bottom-bg img{width:100%;display:block;margin:0 auto}",""]),e.exports=r},519:function(e,t,n){var content=n(567);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(53).default)("0773d241",content,!0,{sourceMap:!1})},533:function(e,t,n){"use strict";n.r(t);n(70),n(42),n(153),n(100);var r=n(8),o={name:"IndexTopText",data:function(){return{marqueeTxt:"# 欢迎光临卡卅给油所 # Welcome to KASAKII Creative Supply Station # カサキイガソリンスタンドへようこそ",timer:null,back_ground:"url("+this.$store.state.sourcRoot+"/image/index/title.png)",back_ground1:"url("+this.$store.state.sourcRoot+"/image/index/icon-star.svg)"}},mounted:function(){},beforeDestrioy:function(){},methods:{runText:function(){var e=this;this.timer||(this.timer=setInterval((function(){var t=e.marqueeTxt.split("");t.push(t.shift()),e.marqueeTxt=t.join("")}),150))},stopText:function(){clearInterval(this.timer),this.timer=null}}},l=function(){Object(r.b)((function(e,t){return{"6f3b7c54":e.back_ground,"78340e5d":e.back_ground1}}))},d=o.setup;o.setup=d?function(e,t){return l(),d(e,t)}:l;var c=o,m=(n(499),n(30)),component=Object(m.a)(c,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"index-top-text"},[t("div",{staticClass:"art-text"}),e._v(" "),t("div",{staticClass:"marquee-outer-wrapper marquee-box"},[t("div",{staticClass:"marquee-inner-wrapper"},[t("span",{staticClass:"first-marquee"},[e._v(e._s(e.marqueeTxt))]),e._v(" "),t("span",{staticClass:"second-marquee"},[e._v(e._s(e.marqueeTxt))])])])])}),[],!1,null,null,null);t.default=component.exports},534:function(e,t,n){"use strict";n.r(t);n(42),n(153);var r=n(2),o=n(188),l=n(488),d=n(487),c=(n(477),n(475)),m=n(476),h=n(8),f={name:"HomeCloudNew",data:function(){return{isDragging:!1,mouse:null,raycaster:null,time:0,active:{backgroundColor:"linear-gradient(0deg, rgb(68 99 49) 0%, rgb(163 174 255) 100%)",gltfLoader:null,material:null,shape:null,textureLoader:null},material:null,meshList:[],touchTarget:null,startPosition:null,scene:null,camera:null,renderer:null,textloader:null,width:0,height:0,mao:null,clock:null,group:null,morphTargetInfluences:null,morphTargetDictionary:null,onPointerDownPointerX:null,onPointerDownPointerY:null,startX:null,startY:null,endX:null,endY:null,outsideModel:!0,timer:null,direction:null,strength:0,back_ground:"url("+this.$store.state.sourcRoot+"/image/index/text-bg.png)"}},watch:{},mounted:function(){this.$nextTick(this.init)},methods:{init:function(){this.$refs.webglDom_home;this.width=window.innerWidth,this.height=1e3,this.scene=new r.Ab,this.textloader=new r.Kb,this.camera=new r.bb(this.width/-2,this.width/2,this.height/2,this.height/-2,1,1e3),this.camera.position.set(400,200,400),this.add(this.camera),this.camera.lookAt(this.scene.position),this.group=new r.v,this.clock=new r.k,this.mouse=new r.Ob,this.raycaster=new r.xb,this.addLight(),this.renderer=new r.Rb({antialias:!0}),this.touchTarget=new r.R(new r.fb(1e3,2e3),new r.S({opacity:0,transparent:!0,depthWrite:!1})),this.renderer.physicallyCorrectLights=!0,this.renderer.outputEncoding=r.Sb,this.renderer.toneMapping=r.a,this.renderer.toneMappingExposure=1.2,this.renderer.shadowMap.enabled=!0,this.renderer.shadowMap.type=r.cb,this.renderer.shadowMapEnabled=!0,this.renderer.setClearColor(new r.l("#ffffff"),0),this.renderer.setPixelRatio(Math.min(window.devicePixelRatio,2)),this.renderer.setSize(this.width,this.height),document.getElementById("webglDom_home").appendChild(this.renderer.domElement),document.getElementById("webglDom_home").addEventListener("touchstart",this.onMouseDown,!1),document.getElementById("webglDom_home").addEventListener("touchmove",this.onMouseMove,!1),document.getElementById("webglDom_home").addEventListener("touchend",this.onMouseUp,!1),this.loadModel(),this.render()},inner_onMouseDown:function(e){this.material.uniforms.uDragStart.value.copy(e),this.material.uniforms.uDragTarget.value.copy(e),this.material.uniforms.uDragRelease.value=!1},inner_onMouseMove:function(e){this.material.uniforms.uDragTarget.value.copy(e)},inner_onMouseUp:function(time){this.material.uniforms.uDragReleaseTime.value=time,this.material.uniforms.uDragRelease.value=!0},onMouseDown:function(e){console.log("event",e);var t=window.innerWidth,n=window.innerHeight;this.mouse.x=(e.touches[0].pageX-0)/t*2-1,this.mouse.y=-(e.touches[0].pageY-0)/n*2+1,this.raycaster.setFromCamera(this.mouse,this.camera);var r=this.raycaster.intersectObjects(this.meshList,!0);if(console.log("intersect",r),r.length){this.isDragging=!0;var o=r[0].point;this.inner_onMouseDown(o)}},onMouseMove:function(e){var t=window.innerWidth,n=window.innerHeight;this.mouse.x=(e.touches[0].pageX-0)/t*2-1,this.mouse.y=-(e.touches[0].pageY-0)/n*2+1,this.raycaster.setFromCamera(this.mouse,this.camera);var r=this.raycaster.intersectObject(this.touchTarget);if(console.log("intersect",r),r.length){var o=r[0].point;this.inner_onMouseMove(o)}},onMouseUp:function(){this.isDragging&&(this.isDragging=!1,this.inner_onMouseUp(this.time))},loadModel:function(){var e=this,t=this,n=(new l.a).setTranscoderPath("/js/libs/basis/").detectSupport(this.renderer),h=(new o.a).setCrossOrigin("anonymous").setKTX2Loader(n).setMeshoptDecoder(d.a),f=this.$store.state.sourcRoot+"/caseimg/snorlax_222.glb";h.load(f,(function(n){console.log("gltf",n),t.mao=n.scene.children[0],console.log("that.mao",t.mao),t.mao.position.set(0,0,0),t.mao.scale.set(2.6,2.6,2.6);var l=new r.Kb;l.textureEncoding=r.Sb;e.$store.state.sourcRoot;var d=e.$store.state.sourcRoot+"/caseimg/sk-uv-new.png",h=(location.href.split("?v=")[1],d),map=l.load(h);map.flipY=!1;var f=new r.Bb({vertexShader:m.default,fragmentShader:c.default,uniforms:{uTime:{value:0},uDragStart:{value:new r.Pb},uDragTarget:{value:new r.Pb},uDragReleaseTime:{value:0},uDragRelease:{value:1},uReleaseDecay:{value:10},uReleaseFrequency:{value:55},uMap:{value:map}},transparent:!0});t.material=f;var v=t.mao;v.material=t.material,t.active={backgroundColor:"linear-gradient(0deg, rgb(68 99 49) 0%, rgb(163 174 255) 100%)",gltfLoader:new o.a,material:t.material,shape:v,textureLoader:new r.Kb},t.meshList.push(t.active.shape),t.add(t.active.shape)}),(function(e){var n=Math.floor(e.loaded/e.total*100);t.$emit("getrate",n)}))},addLight:function(){var e=1e3,t=new r.b(16777215,1);this.add(t);var n=new r.p(16777215,1);n.position.set(0,e,e),this.add(n);var o=new r.p(16777215,1);o.position.set(-1e3,e,e),this.add(o);var l=new r.p(16777215,1);l.position.set(e,e,e),this.add(l);var d=new r.p(16777215,1);d.position.set(0,e,-1e3),this.add(d);var c=new r.p(16777215,1);c.position.set(0,-1e3,-1e3),this.add(c)},add:function(e){this.scene.add(e)},update:function(time){this.material.uniforms.uTime.value=time},render:function(){this.time+=.01633,this.material&&this.update(this.time),this.renderer.render(this.scene,this.camera),requestAnimationFrame(this.render)}}},v=function(){Object(h.b)((function(e,t){return{"62e4c504":e.back_ground}}))},x=f.setup;f.setup=x?function(e,t){return v(),x(e,t)}:v;var w=f,y=(n(501),n(30)),component=Object(y.a)(w,(function(){var e=this._self._c;return e("div",{staticClass:"home-cloud-box",attrs:{id:"home-cloud-box"}},[e("div",{ref:"webglDom_home",attrs:{id:"webglDom_home"}})])}),[],!1,null,null,null);t.default=component.exports},535:function(e,t,n){"use strict";n.r(t);var r=n(8),o={name:"BottomBox",data:function(){return{sourceUrl:this.$store.state.sourcRoot,back_ground1:"url("+this.$store.state.sourcRoot+"/image/index/copyright.png)",back_ground2:"url("+this.$store.state.sourcRoot+"/image/index/logo.png)"}},methods:{}},l=function(){Object(r.b)((function(e,t){return{"62dd3e92":e.back_ground2,"62dd3e94":e.back_ground1,"172dfadb":e.back_ground}}))},d=o.setup;o.setup=d?function(e,t){return l(),d(e,t)}:l;var c=o,m=(n(503),n(30)),component=Object(m.a)(c,(function(){var e=this._self._c;return e("div",{staticClass:"index-bottom-text"},[e("img",{attrs:{src:this.sourceUrl+"/image/index/bottom.png"}})])}),[],!1,null,null,null);t.default=component.exports},536:function(e,t,n){"use strict";n.r(t);var r={name:"BottomBg",data:function(){return{sourceUrl:this.$store.state.sourcRoot,showBottomBg:!1}},mounted:function(){console.log(window.innerHeight);var e=window.innerHeight-70-280-410;console.log(e),this.showBottomBg=e>0},methods:{}},o=(n(505),n(30)),component=Object(o.a)(r,(function(){var e=this,t=e._self._c;return e.showBottomBg?t("div",{staticClass:"index-bottom-bg"},[t("img",{attrs:{src:e.sourceUrl+"/image/index/absolutebottom1.png"}})]):e._e()}),[],!1,null,null,null);t.default=component.exports},566:function(e,t,n){"use strict";n(519)},567:function(e,t,n){var r=n(52)(!1);r.push([e.i,".container[data-v-5b6ea87f]{width:100vw;height:100vh;overflow-x:hidden;overflow-y:hidden;position:relative}",""]),e.exports=r},630:function(e,t,n){"use strict";n.r(t);n(26),n(36),n(35);var r={layout:"loading",name:"IndexPage",components:{IndexTopText:function(){return Promise.resolve().then(n.bind(null,533))},HomeCloudNew:function(){return Promise.resolve().then(n.bind(null,534))},BottomBox:function(){return Promise.resolve().then(n.bind(null,535))},BottomBg:function(){return Promise.resolve().then(n.bind(null,536))}},methods:{getRate:function(e){console.log("rate",e),this.$store.state.loadRate=e}}},o=(n(566),n(30)),component=Object(o.a)(r,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("IndexTopText"),e._v(" "),t("HomeCloudNew",{on:{getrate:e.getRate}}),e._v(" "),t("BottomBox"),e._v(" "),t("BottomBg")],1)}),[],!1,null,"5b6ea87f",null);t.default=component.exports;installComponents(component,{IndexTopText:n(533).default,HomeCloudNew:n(534).default,BottomBox:n(535).default,BottomBg:n(536).default})}}]);