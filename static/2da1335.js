(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{346:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));n(347),n(37),n(34),n(45),n(26),n(30),n(46),n(47);var o=n(144),r=n(145),c=n(348),h=n(349),l=n(343),d=(n(14),n(351),n(24),n(352),n(353),n(354),n(355),n(356),n(357),n(358),n(359),n(360),n(361),n(362),n(363),n(364),n(365),n(366),n(367),n(25),n(338));function w(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,c=!0,h=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){h=!0,r=e},f:function(){try{c||null==n.return||n.return()}finally{if(h)throw r}}}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Object(l.a)(e);if(t){var r=Object(l.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(h.a)(this,n)}}var v=function(e){Object(c.a)(n,e);var t=m(n);function n(){var e;Object(o.a)(this,n),e=t.call(this);var r=new d.i;r.deleteAttribute("uv");var c=new d.R({side:d.e}),h=new d.R,l=new d.cb(16777215,5,28,2);l.position.set(.418,16.199,.3),e.add(l);var w=new d.N(r,c);w.position.set(-.757,13.219,.717),w.scale.set(31.713,28.305,28.591),e.add(w);var f=new d.N(r,h);f.position.set(-10.906,2.009,1.846),f.rotation.set(0,-.195,0),f.scale.set(2.328,7.905,4.651),e.add(f);var m=new d.N(r,h);m.position.set(-5.607,-.754,-.758),m.rotation.set(0,.994,0),m.scale.set(1.97,1.534,3.955),e.add(m);var v=new d.N(r,h);v.position.set(6.167,.857,7.803),v.rotation.set(0,.561,0),v.scale.set(3.927,6.285,3.687),e.add(v);var D=new d.N(r,h);D.position.set(-2.017,.018,6.124),D.rotation.set(0,.333,0),D.scale.set(2.002,4.566,2.064),e.add(D);var x=new d.N(r,h);x.position.set(2.291,-.756,-2.621),x.rotation.set(0,-.286,0),x.scale.set(1.546,1.552,1.496),e.add(x);var P=new d.N(r,h);P.position.set(-2.193,-.369,-5.547),P.rotation.set(0,.516,0),P.scale.set(3.875,3.487,2.986),e.add(P);var M=new d.N(r,y(50));M.position.set(-16.116,14.37,8.208),M.scale.set(.1,2.428,2.739),e.add(M);var j=new d.N(r,y(50));j.position.set(-16.109,18.021,-8.207),j.scale.set(.1,2.425,2.751),e.add(j);var O=new d.N(r,y(17));O.position.set(14.904,12.198,-1.832),O.scale.set(.15,4.265,6.331),e.add(O);var A=new d.N(r,y(43));A.position.set(-.462,8.89,14.52),A.scale.set(4.38,5.441,.088),e.add(A);var N=new d.N(r,y(20));N.position.set(3.235,11.486,-12.541),N.scale.set(2.5,2,.1),e.add(N);var X=new d.N(r,y(100));return X.position.set(0,20,0),X.scale.set(1,.1,1),e.add(X),e}return Object(r.a)(n,[{key:"dispose",value:function(){var e=new Set;this.traverse((function(object){object.isMesh&&(e.add(object.geometry),e.add(object.material))}));var t,n=w(e);try{for(n.s();!(t=n.n()).done;){t.value.dispose()}}catch(e){n.e(e)}finally{n.f()}}}]),n}(d.kb);function y(e){var t=new d.O;return t.color.setScalar(e),t}},371:function(e,t,n){var content=n(397);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(67).default)("4c028a44",content,!0,{sourceMap:!1})},396:function(e,t,n){"use strict";n(371)},397:function(e,t,n){var o=n(66)(!1);o.push([e.i,".webglDom[data-v-66036808]{width:100%;height:100%;position:relative;z-index:1}",""]),e.exports=o},511:function(e,t,n){"use strict";n.r(t);n(34),n(14),n(36);var o=n(338),r=n(339),c=n(346),h=n(340),l={name:"OilContent",props:["glburl"],data:function(){return{object:null,scene:null,camera:null,renderer:null,textloader:null,controls:null,group:null,width:0,height:0,center:null,activeIndex:0,onPointerDownPointerX:null,onPointerDownPointerY:null,logopath:{"云栖盲盒":"","伸爪":"","天猫live":"","天猫国际全球好物课代表":"","天生艺术":"","淘宝回忆":""}}},watch:{},mounted:function(){this.$nextTick(this.init)},methods:{init:function(){var e=this.$refs.webglDom;this.width=e.offsetWidth,this.height=e.offsetHeight,this.scene=new o.kb,this.textloader=new o.tb,this.group=new o.t,this.camera=new o.bb(45,this.width/this.height,.01,1e4),this.camera.position.set(0,0,0),console.log("this.camera",this.camera),this.camera.lookAt(0,0,0),this.scene.add(this.camera);var t=new o.d(700);this.add(t),this.loadModel(),e.addEventListener("mousedown",this.onDocumentMouseDown,!1),document.addEventListener("touchstart",this.onDocumentTouchDown,!1),document.addEventListener("touchend",this.onDocumentTouchUp,!1),document.addEventListener("touchmove",this.onDocumentTouchMove,!1)},onDocumentTouchDown:function(e){this.startX=e.touches[0].pageX,this.startY=e.touches[0].pageY,this.onPointerDownPointerX=e.touches[0].pageX,this.onPointerDownPointerY=e.touches[0].pageY},onDocumentTouchMove:function(e){this.onPointerDownPointerX=e.touches[0].pageX,this.onPointerDownPointerY=e.touches[0].pageY,this.endX=e.touches[0].pageX,this.endY=e.touches[0].pageY},onDocumentTouchUp:function(e){},onDocumentMouseDown:function(e){var t=this.getIntersects(e);if(console.log("intersects",t),0!==t.length&&"Mesh"===t[0].object.type){var n=t[0].object;console.log("selectObject",n.name)}else console.log("未选中 Mesh!")},getIntersects:function(e,t){t||e.preventDefault();var n=new o.ib,r=new o.wb;return t?e.clientX?(r.x=e.clientX/window.innerWidth*2-1,r.y=-e.clientY/window.innerHeight*2+1):(r.x=this.onPointerDownPointerX/window.innerWidth*2-1,r.y=-this.onPointerDownPointerY/window.innerHeight*2+1):(r.x=e.clientX/window.innerWidth*2-1,r.y=-e.clientY/window.innerHeight*2+1),n.setFromCamera(r,this.camera),n.intersectObjects(this.group.children,!0)},changeCamera:function(e){var object=e.scene||e.scenes[0],t=(new o.g).setFromObject(object),n=t.getSize(new o.xb(0,0,0)).length(),h=t.getCenter(new o.xb(0,0,0));object.position.x+=object.position.x-h.x,object.position.y+=object.position.y-h.y,object.position.z+=object.position.z-h.z,object.scale.set(.94,.94,.94),object.translateY(.1),this.camera.near=n/100,this.camera.far=100*n,this.camera.position.copy(h),this.camera.position.x+=n/2,this.camera.position.y+=n/5,this.camera.position.z+=n/2,this.camera.lookAt(h),this.camera.up=new o.xb(0,1,0),this.camera.updateProjectionMatrix(),this.object=object,this.group.add(this.object),this.scene.add(this.group),this.printGraph(object),this.renderer=new o.zb({antialias:!0}),this.renderer.outputEncoding=o.Ab,this.renderer.toneMapping=o.a,this.renderer.toneMappingExposure=.6,this.renderer.shadowMap.enabled=!0,this.renderer.shadowMap.type=o.Z,this.renderer.setClearColor(new o.m("#000000"),0),this.renderer.setPixelRatio(Math.min(window.devicePixelRatio,2)),this.renderer.setSize(this.width,this.height),this.$refs.webglDom.appendChild(this.renderer.domElement);var l=new c.a,d=new o.ab(this.renderer);this.scene.environment=d.fromScene(l).texture;var w=new r.a(this.camera,this.renderer.domElement);w.enablePan=!1,w.enableZoom=!1,w.enableDamping=!0,w.minPolarAngle=Math.PI/3,w.maxPolarAngle=Math.PI/2,this.controls=w,this.render()},loadModel:function(){var e=this;(new h.a).load(this.glburl,(function(t){console.log("gltf",t),e.changeCamera(t)}))},printGraph:function(e){var t=this;console.log("node.children.length",e.children.length),console.group(" <"+e.type+"> "+e.name),e.children.forEach((function(e){return t.printGraph(e)})),console.groupEnd()},addLight:function(){var e=1e3,t=new o.b(16777215,.5);this.add(t);var n=new o.n(16777215,.5);n.position.set(0,e,e),this.add(n);var r=new o.n(16777215,.5);r.position.set(-1e3,e,e),this.add(r);var c=new o.n(16777215,.5);c.position.set(e,e,e),this.add(c);var h=new o.n(16777215,.5);h.position.set(0,e,-1e3),this.add(h);var l=new o.n(16777215,.5);l.position.set(0,-1e3,-1e3),this.add(l)},add:function(e){this.scene.add(e)},render:function(){this.renderer.render(this.scene,this.camera),requestAnimationFrame(this.render)}}},d=(n(396),n(33)),component=Object(d.a)(l,(function(){return(0,this._self._c)("div",{ref:"webglDom",staticClass:"webglDom"})}),[],!1,null,"66036808",null);t.default=component.exports}}]);